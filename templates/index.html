<!DOCTYPE html>
<html>
<head>
    <title>OrderBot</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</head>
<style>
	
	#chat-container {
		
		position: fixed;
		bottom: 0px;
		right: 0px;
		width: 350px;
		height: 500px;
		border-radius: 10px;
		overflow: hidden;
		box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
	  }
	  .chat-header {
		background-color: #007bff;
		color: #fff;
		padding: 10px;
	  }
	  .chat-body {
		height: 340px;
		overflow-y: scroll;
		padding: 10px;
		background-color: #f9f9f9;
	  }
	  .chat-footer {
		background-color: #f9f9f9;
		padding: 5px;
		border-top: 1px solid #ccc;
	  }
	  .messageDiv{
		padding: 8px 8px 8px 0px;
		margin:12px 0px;
		
  }
	  .message{
		margin:15px 0px;
		border: none;
		padding: 10px;
		border-radius: 5px;
		box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
		font-size: 16px;
	  }
	  .inputField{
	    width: 80%;
	    margin: 0px 5px;
	    height: 25px;
	    outline: none;
	    padding-left: 15px;
	    border: none;
	    background-color: transparent;
	}
	.inputField:focus{
		outline:4px solid #007bff;
		
	}
	
	.btn{
	   border: solid 1px #4ef;
           background-color: #007bff;
           padding: 7px;
           border-radius: 13%;
	}
	
	.chat-message{
	margin: 15px 0px;
        border: none;
        padding: 10px;
        border-radius: 5px;
        box-shadow: 0 0 5px rgba(0, 0, 0, 0.1);
        font-size: 16px;
	}
	
	#chat-form{
	display:flex;
	}
	
</style>

<body>
    <div id="chat-container">
		<div class="chat-header">
			<h1>Chat Bot</h1>
		</div>
		<div class="chat-body">
			<div id="chat-message system-message">
				<div class="message">Hello, how can I assist you?</div>
			</div
                </div> 
 </div>
      
	  <div class="chat-footer">
             <form id="chat-form">
                <input type="text" class="inputField" name="message" id="message-input" placeholder="Type your message here...">
                <input type="submit" value="Send">
             </form>
	  </div> 
    
    
    <script>
      $(document).ready(function() {
        $('#chat-form').submit(function(event) {
          event.preventDefault();
          var message = $('#message-input').val();
          $('.chat-body').append('<div class="chat-message user-message"><p>' + message + '</p></div>');
          $('#message-input').val('');
          $.ajax({
            url: '/chat',
            type: 'POST',
            data: { message: message },
            dataType: 'json',
            success: function(response) {
              var botMessage = stringContainsSequences(response.response);
              $('.chat-body').append('<div class="chat-message bot-message"><p>' + botMessage + '</p></div>');
            }
          });
        });
      });
     function stringContainsSequences(str) {
	var sequences = ["hi", "hello", "what are you doing", "fractal"];
	for (var i = 0; i < sequences.length; i++) {
           if (str.indexOf(sequences[i]) === -1) {
		return "No data Found";
	  }
	}
	return str;
	}    
    </script>
  </body>
</html>  
